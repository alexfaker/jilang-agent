import{_ as M,C as S,I as B,f as L,D as $,q as H,g as h,c as n,a as e,b as l,w as p,u as r,t as v,j as g,x as N,y as x,z as q,n as b,Q as D,l as y,R as U,e as u,d as P,r as R,o as i,k as w}from"./index-f19ebc4a.js";import{_}from"./BrandLogo-4a489162.js";import{r as T}from"./ExclamationTriangleIcon-acab16c9.js";import{r as E,a as I,b as A,c as F}from"./LockClosedIcon-de05a7d5.js";import"./CpuChipIcon-576f530e.js";const O={class:"min-h-screen bg-gray-50"},Q={class:"bg-white shadow-sm"},Z={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},G={class:"flex justify-between h-16"},J={class:"flex items-center"},K={class:"flex items-center"},W={class:"flex-grow flex items-center justify-center px-4 sm:px-6 lg:px-8 py-12"},X={class:"max-w-md w-full"},Y={class:"auth-card bg-white p-8 rounded-2xl shadow-lg"},ee={class:"flex items-center justify-center mb-8"},te={key:0,class:"rounded-md bg-red-50 p-4 mb-6"},se={class:"flex"},oe={class:"flex-shrink-0"},re={class:"ml-3"},ae={class:"text-sm font-medium text-red-800"},le={class:"mt-1 relative"},ie={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},de={key:0,class:"mt-2 text-sm text-red-600"},ne={class:"mt-1 relative"},ce={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},me=["type"],ue={key:0,class:"mt-2 text-sm text-red-600"},fe={class:"flex items-center justify-between"},pe={class:"flex items-center"},ve=["disabled"],ge={key:0,class:"flex items-center"},xe={key:1},he={class:"mt-6 text-center text-sm text-gray-600"},be={__name:"Login",setup(ye){const k=S(),C=B(),d=L();$();const s=H({email:"",password:"",remember:!1}),a=h({}),m=h(!1),V=()=>{m.value=!m.value},j=()=>{const o={};return s.email?/^\S+@\S+\.\S+$/.test(s.email)||(o.email="请输入有效的邮箱地址"):o.email="请输入邮箱地址",s.password?s.password.length<6&&(o.password="密码长度不能小于6位"):o.password="请输入密码",a.value=o,Object.keys(o).length===0},z=async()=>{if(d.error=null,a.value={},!!j())try{await d.login({email:s.email,password:s.password,remember:s.remember}),w.success("登录成功，欢迎回来！");const o=C.query.redirect||"/dashboard";k.push(o)}catch{w.error(d.error||"登录失败，请检查您的邮箱和密码")}};return(o,t)=>{const f=R("router-link");return i(),n("div",O,[e("nav",Q,[e("div",Z,[e("div",G,[e("div",J,[l(f,{to:"/",class:"flex-shrink-0"},{default:p(()=>[l(_,{size:"base"})]),_:1})]),e("div",K,[l(f,{to:"/auth/register",class:"text-gray-500 hover:text-gray-700 px-3 py-2 rounded-md text-sm font-medium transition-colors"},{default:p(()=>t[3]||(t[3]=[u(" 注册 ")])),_:1,__:[3]})])])])]),e("div",W,[e("div",X,[e("div",Y,[e("div",ee,[l(_,{size:"lg",spacing:"loose"})]),r(d).error?(i(),n("div",te,[e("div",se,[e("div",oe,[l(r(T),{class:"h-5 w-5 text-red-400"})]),e("div",re,[e("h3",ae,v(r(d).error),1)])])])):g("",!0),e("form",{class:"space-y-6",onSubmit:N(z,["prevent"])},[e("div",null,[t[4]||(t[4]=e("label",{for:"email",class:"block text-sm font-medium text-gray-700"},"邮箱地址",-1)),e("div",le,[e("div",ie,[l(r(E),{class:"h-5 w-5 text-gray-400"})]),x(e("input",{id:"email",name:"email",type:"email",autocomplete:"email",required:"","onUpdate:modelValue":t[0]||(t[0]=c=>s.email=c),class:b([{"border-red-300":a.value.email},"auth-input appearance-none block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all"]),placeholder:"请输入邮箱地址"},null,2),[[q,s.email]])]),a.value.email?(i(),n("p",de,v(a.value.email),1)):g("",!0)]),e("div",null,[t[5]||(t[5]=e("div",{class:"flex items-center justify-between"},[e("label",{for:"password",class:"block text-sm font-medium text-gray-700"},"密码"),e("a",{href:"#",class:"text-sm font-medium text-indigo-600 hover:text-indigo-500"}," 忘记密码? ")],-1)),e("div",ne,[e("div",ce,[l(r(I),{class:"h-5 w-5 text-gray-400"})]),x(e("input",{id:"password",name:"password",type:m.value?"text":"password",autocomplete:"current-password",required:"","onUpdate:modelValue":t[1]||(t[1]=c=>s.password=c),class:b([{"border-red-300":a.value.password},"auth-input appearance-none block w-full pl-10 pr-10 py-3 border border-gray-300 rounded-lg placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all"]),placeholder:"请输入密码"},null,10,me),[[D,s.password]]),e("button",{type:"button",onClick:V,class:"absolute inset-y-0 right-0 pr-3 flex items-center"},[m.value?(i(),y(r(F),{key:1,class:"h-5 w-5 text-gray-400 hover:text-gray-600"})):(i(),y(r(A),{key:0,class:"h-5 w-5 text-gray-400 hover:text-gray-600"}))])]),a.value.password?(i(),n("p",ue,v(a.value.password),1)):g("",!0)]),e("div",fe,[e("div",pe,[x(e("input",{id:"remember-me",name:"remember-me",type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=c=>s.remember=c),class:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"},null,512),[[U,s.remember]]),t[6]||(t[6]=e("label",{for:"remember-me",class:"ml-2 block text-sm text-gray-900"}," 记住我 ",-1))])]),e("div",null,[e("button",{type:"submit",disabled:r(d).loading,class:"auth-btn w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all hover:transform hover:-translate-y-0.5"},[r(d).loading?(i(),n("span",ge,t[7]||(t[7]=[e("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),u(" 登录中... ")]))):(i(),n("span",xe,"登录"))],8,ve)])],32),t[8]||(t[8]=P('<div class="mt-6" data-v-eff7793d><div class="relative" data-v-eff7793d><div class="absolute inset-0 flex items-center" data-v-eff7793d><div class="w-full border-t border-gray-300" data-v-eff7793d></div></div><div class="relative flex justify-center text-sm" data-v-eff7793d><span class="px-2 bg-white text-gray-500" data-v-eff7793d> 或通过以下方式登录 </span></div></div><div class="mt-6 grid grid-cols-3 gap-3" data-v-eff7793d><button type="button" class="w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 transition-colors" data-v-eff7793d><svg class="h-5 w-5" fill="currentColor" viewBox="0 0 24 24" data-v-eff7793d><path d="M12 0C5.37 0 0 5.37 0 12 0 17.31 3.435 21.795 8.205 23.385 8.805 23.49 9.03 23.13 9.03 22.815L9.015 20.91C5.672 21.675 4.968 19.35 4.968 19.35 4.422 17.94 3.633 17.583 3.633 17.583 2.546 16.791 3.717 16.806 3.717 16.806 4.922 16.896 5.555 18.084 5.555 18.084 6.625 19.932 8.364 19.401 9.048 19.088 9.155 18.311 9.466 17.78 9.81 17.475 7.145 17.167 4.344 16.125 4.344 11.475 4.344 10.147 4.809 9.057 5.579 8.207 5.444 7.896 5.039 6.651 5.684 4.992 5.684 4.992 6.689 4.651 8.984 6.207 10.189 5.962 11.496 5.962 12.803 6.207 15.097 4.651 16.103 4.992 16.103 4.992 16.748 6.651 16.343 7.896 16.208 8.207 16.978 9.057 17.443 10.147 17.443 11.475 17.443 16.134 14.641 17.167 11.976 17.475 12.32 17.78 12.631 18.311 12.738 19.088 13.422 19.401 15.161 19.932 16.231 18.084 16.864 16.896 18.069 16.806 18.069 16.806 19.24 16.791 18.153 17.583 17.364 17.94 16.818 19.35 16.818 19.35 16.114 21.675 12.97 20.91L12.955 22.815C12.955 23.13 13.18 23.49 13.78 23.385 18.55 21.795 21.985 17.31 21.985 12 22 5.37 16.63.015 12 0Z" data-v-eff7793d></path></svg></button><button type="button" class="w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 transition-colors" data-v-eff7793d><svg class="h-5 w-5" fill="currentColor" viewBox="0 0 24 24" data-v-eff7793d><path d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" data-v-eff7793d></path><path d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" data-v-eff7793d></path><path d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z" data-v-eff7793d></path><path d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" data-v-eff7793d></path></svg></button><button type="button" class="w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 transition-colors" data-v-eff7793d><svg class="h-5 w-5" fill="currentColor" viewBox="0 0 24 24" data-v-eff7793d><path d="M18.73 5.73h-5.06V3.59c0-1.35.87-1.66 1.48-1.66h3.45V.11S17.56 0 16.53 0c-2.68 0-4.37 1.04-4.37 3.14v2.59H9.33v1.94h2.83v7.75c.85.13 1.72.2 2.6.2.88 0 1.75-.07 2.6-.2V7.67h2.25l.37-1.94z" data-v-eff7793d></path></svg></button></div></div>',1))]),e("p",he,[t[10]||(t[10]=u(" 还没有账户? ")),l(f,{to:"/auth/register",class:"font-medium text-indigo-600 hover:text-indigo-500"},{default:p(()=>t[9]||(t[9]=[u(" 注册新账户 ")])),_:1,__:[9]})])])])])}}},je=M(be,[["__scopeId","data-v-eff7793d"]]);export{je as default};
